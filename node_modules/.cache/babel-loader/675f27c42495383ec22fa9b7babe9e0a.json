{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Projects\\\\hlh-cms\\\\src\\\\views\\\\HLH\\\\Teachers.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button, Card, CardBody, CardHeader, Col, Form, FormGroup, Input, Label, Pagination, PaginationItem, PaginationLink, Row, Table } from \"reactstrap\";\nimport axios from \"../../shared/axios-hlh.js\";\nimport { isNotEmpty, TODAY } from \"../../shared/utility.js\";\nimport * as actions from \"../../store/actions\";\nimport Modal from \"../UI/Modal.js\";\nvar BASE_FORM_CONTROLS = {\n  id: {\n    value: \"\"\n  },\n  socialName: {\n    value: \"\"\n  },\n  fullName: {\n    value: \"\"\n  },\n  dateRegistered: {\n    value: TODAY\n  },\n  email: {\n    value: \"\"\n  },\n  phone: {\n    value: \"\"\n  },\n  facebook: {\n    value: \"\"\n  },\n  instagram: {\n    value: \"\"\n  },\n  twitter: {\n    value: \"\"\n  }\n};\n\nvar Teachers =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Teachers, _Component);\n\n  function Teachers() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Teachers);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Teachers)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isEditing: false,\n      isAssigningTeacher: false,\n      formControls: BASE_FORM_CONTROLS,\n      availableClasses: [],\n      selectedClassId: undefined\n    };\n\n    _this.spreadOnForm = function (formData) {\n      var formControls = BASE_FORM_CONTROLS;\n      Object.keys(formData).forEach(function (field) {\n        formControls = _objectSpread({}, formControls, _defineProperty({}, field, _objectSpread({}, formControls[field], {\n          value: formData[field]\n        })));\n      });\n\n      _this.setState({\n        formControls: formControls\n      });\n    };\n\n    _this.clearModalHandler = function () {\n      return _this.setState({\n        isEditing: false,\n        isAssigningTeacher: false,\n        formControls: BASE_FORM_CONTROLS\n      });\n    };\n\n    _this.resetFormHandler = function () {\n      return _this.setState({\n        formControls: BASE_FORM_CONTROLS\n      });\n    };\n\n    _this.handleStartAssign = function (id) {\n      var teachers = _this.props.members;\n      var focusedTeacher = BASE_FORM_CONTROLS;\n\n      if (id && isNotEmpty(id)) {\n        for (var i in teachers) {\n          if (teachers[i].id === id) focusedTeacher = teachers[i];\n        }\n\n        _this.spreadOnForm(focusedTeacher);\n      } else _this.resetFormHandler();\n\n      _this.setState({\n        isAssigningTeacher: true\n      });\n\n      _this.fetchAvailableClasses();\n    };\n\n    _this.fetchAvailableClasses = function () {\n      axios.get(\"/classes.json\").then(function (res) {\n        var fetchedClasses = [];\n\n        for (var key in res.data) {\n          fetchedClasses.push(_objectSpread({}, res.data[key], {\n            id: key\n          }));\n        }\n\n        _this.setState({\n          availableClasses: fetchedClasses,\n          selectedClassId: fetchedClasses[0].id\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleSubmitAssignment = function (e) {\n      e.preventDefault();\n      var classId = _this.state.selectedClassId;\n      var teacherId = _this.state.formControls.id.value;\n      console.log(teacherId, classId);\n\n      _this.clearModalHandler();\n\n      _this.resetFormHandler();\n\n      axios.put(\"/classAssignments/\" + classId + \"/\" + teacherId + \".json\", {\n        isAssigned: true,\n        hasPaid: false\n      }).then(function (res) {\n        console.log(res);\n        alert(\"Assignment info submitted\");\n      }).catch(function (err) {\n        console.log(err);\n        alert(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Teachers, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onFetchTeachers(\"\", \"\", \"teacher\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var memberRows = Object.keys(this.props.members).map(function (mKey) {\n        return _toConsumableArray(Array(_this2.props.members[mKey]).map(function (member) {\n          var socialMedia = [\"facebook\", \"twitter\", \"instagram\"];\n          var socialProfiles = socialMedia.map(function (medium) {\n            if (isNotEmpty(member[medium])) {\n              return React.createElement(Button, {\n                key: medium + mKey,\n                className: \"btn-brand mr-1 mb-1 btn-sm btn-\" + medium,\n                onClick: function onClick() {\n                  return _this2.socialClickedHandler(medium, member[medium]);\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 150\n                },\n                __self: this\n              }, React.createElement(\"i\", {\n                className: \"fa fa-\" + medium,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 155\n                },\n                __self: this\n              }));\n            }\n\n            return null;\n          });\n          return React.createElement(\"tr\", {\n            key: member.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162\n            },\n            __self: this\n          }, member.socialName), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163\n            },\n            __self: this\n          }, member.fullName), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164\n            },\n            __self: this\n          }, member.dateRegistered), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 165\n            },\n            __self: this\n          }, member.email), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 166\n            },\n            __self: this\n          }, member.phone), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167\n            },\n            __self: this\n          }, socialProfiles), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168\n            },\n            __self: this\n          }, React.createElement(Button, {\n            color: \"info\",\n            className: \"btn-pill\",\n            size: \"sm\",\n            block: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 168\n            },\n            __self: this\n          }, \"Info \")), _this2.props.isAdmin && React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 171\n            },\n            __self: this\n          }, React.createElement(Button, {\n            color: \"success\",\n            className: \"btn-pill\",\n            size: \"sm\",\n            onClick: function onClick() {\n              return _this2.handleStartAssign(member.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 171\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-plus\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }), \" \")), _this2.props.isAdmin && React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }, React.createElement(Button, {\n            color: \"info\",\n            className: \"btn-pill\",\n            size: \"sm\",\n            onClick: function onClick() {\n              return _this2.formToggleHandler(member.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }, \"Edit\")));\n        }));\n      });\n      var tb_teachers = React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"table-responsive-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"List of Teachers\"), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Table, {\n        responsive: true,\n        striped: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Social Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Full Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Date Registered\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Phone No.\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Social Media\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Payment History\"), this.props.isAdmin && React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, \"Assign to class\"), this.props.isAdmin && React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"Edit\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, memberRows)), React.createElement(Pagination, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        previous: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      })), React.createElement(PaginationItem, {\n        active: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"1\")), React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"2\")), React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"3\")), React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, \"4\")), React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        next: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      })))))));\n      var options_classes = Object.keys(this.state.availableClasses).map(function (cKey) {\n        return _toConsumableArray(Array(_this2.state.availableClasses[cKey]).map(function (c) {\n          return React.createElement(\"option\", {\n            key: c.id,\n            value: c.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 237\n            },\n            __self: this\n          }, c.className, \": \", c.dateFrom, \" to \", c.dateTo);\n        }));\n      });\n      var form_assignTeacher = React.createElement(Modal, {\n        show: this.state.isAssigningTeacher,\n        modalClosed: this.clearModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Teacher Info\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(Form, {\n        action: \"\",\n        method: \"post\",\n        encType: \"multipart/form-data\",\n        className: \"form-horizontal\",\n        onSubmit: this.handleSubmitAssignment,\n        onReset: this.resetFormHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"Member ID\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"form-control-static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, isNotEmpty(this.state.formControls.id.value) ? this.state.formControls.id.value : \"ID UNAVAILABLE. NEW MEMBER.\"))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"fullName-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Full name\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"fullName-input\",\n        name: \"fullName\",\n        required: true,\n        readOnly: true,\n        value: this.state.formControls.fullName.value,\n        placeholder: \"Enter full name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"socialName-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, \"Social name\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"socialName-input\",\n        name: \"socialName\",\n        required: true,\n        readOnly: true,\n        value: this.state.formControls.socialName.value,\n        placeholder: \"Other members will call you\\r by this Social Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"class-select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, \"Select a class\")), React.createElement(Col, {\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"select\",\n        name: \"class-select\",\n        id: \"class-select\",\n        value: this.state.selectedClassId,\n        onChange: this.handleSelectedClassChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, options_classes))), React.createElement(Button, {\n        size: \"sm\",\n        color: \"danger\",\n        onClick: this.clearModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-ban\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }), \" Cancel\"), React.createElement(Button, {\n        type: \"submit\",\n        size: \"sm\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-dot-circle-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }), \" Submit\")))))));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, tb_teachers, form_assignTeacher);\n    }\n  }]);\n\n  return Teachers;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    members: state.member.members,\n    isAdmin: state.auth.user.displayName === \"admin\"\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onFetchTeachers: function onFetchTeachers(token, userId, role) {\n      return dispatch(actions.fetchMembers(token, userId, role));\n    },\n    onEditMember: function onEditMember(token, memberInfo) {\n      return dispatch(actions.updateMember(token, memberInfo));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Teachers);","map":{"version":3,"sources":["C:/Projects/hlh-cms/src/views/HLH/Teachers.js"],"names":["React","Component","connect","Button","Card","CardBody","CardHeader","Col","Form","FormGroup","Input","Label","Pagination","PaginationItem","PaginationLink","Row","Table","axios","isNotEmpty","TODAY","actions","Modal","BASE_FORM_CONTROLS","id","value","socialName","fullName","dateRegistered","email","phone","facebook","instagram","twitter","Teachers","state","isEditing","isAssigningTeacher","formControls","availableClasses","selectedClassId","undefined","spreadOnForm","formData","Object","keys","forEach","field","setState","clearModalHandler","resetFormHandler","handleStartAssign","teachers","props","members","focusedTeacher","i","fetchAvailableClasses","get","then","res","fetchedClasses","key","data","push","catch","err","console","log","handleSubmitAssignment","e","preventDefault","classId","teacherId","put","isAssigned","hasPaid","alert","onFetchTeachers","memberRows","map","mKey","Array","member","socialMedia","socialProfiles","medium","socialClickedHandler","isAdmin","formToggleHandler","tb_teachers","options_classes","cKey","c","className","dateFrom","dateTo","form_assignTeacher","handleSelectedClassChange","mapStateToProps","auth","user","displayName","mapDispatchToProps","dispatch","token","userId","role","fetchMembers","onEditMember","memberInfo","updateMember"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Col,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  Row,\r\n  Table,\r\n} from \"reactstrap\";\r\nimport axios from \"../../shared/axios-hlh.js\";\r\nimport {isNotEmpty, TODAY} from \"../../shared/utility.js\";\r\nimport * as actions from \"../../store/actions\";\r\nimport Modal from \"../UI/Modal.js\";\r\n\r\nconst BASE_FORM_CONTROLS = {\r\n  id            : {\r\n    value: \"\",\r\n  },\r\n  socialName    : {\r\n    value: \"\",\r\n  },\r\n  fullName      : {\r\n    value: \"\",\r\n  },\r\n  dateRegistered: {\r\n    value: TODAY,\r\n  },\r\n  email         : {\r\n    value: \"\",\r\n  },\r\n  phone         : {\r\n    value: \"\",\r\n  },\r\n  facebook      : {\r\n    value: \"\",\r\n  },\r\n  instagram     : {\r\n    value: \"\",\r\n  },\r\n  twitter       : {\r\n    value: \"\",\r\n  },\r\n};\r\n\r\nclass Teachers extends Component {\r\n  state = {\r\n    isEditing         : false,\r\n    isAssigningTeacher: false,\r\n    formControls      : BASE_FORM_CONTROLS,\r\n    availableClasses  : [],\r\n    selectedClassId   : undefined,\r\n  };\r\n  \r\n  componentDidMount() {\r\n    this.props.onFetchTeachers(\"\", \"\", \"teacher\");\r\n  }\r\n  \r\n  spreadOnForm      = formData => {\r\n    let formControls = BASE_FORM_CONTROLS;\r\n    Object.keys(formData).forEach(field => {\r\n      formControls = {\r\n        ...formControls,\r\n        [field]: {\r\n          ...formControls[field],\r\n          value: formData[field],\r\n        },\r\n      };\r\n    });\r\n    this.setState({formControls});\r\n  };\r\n  clearModalHandler = () => this.setState({\r\n    isEditing         : false,\r\n    isAssigningTeacher: false,\r\n    formControls      : BASE_FORM_CONTROLS,\r\n  });\r\n  resetFormHandler  = () => this.setState({\r\n    formControls: BASE_FORM_CONTROLS,\r\n  });\r\n  \r\n  \r\n  handleStartAssign = id => {\r\n    const teachers     = this.props.members;\r\n    let focusedTeacher = BASE_FORM_CONTROLS;\r\n    if (id && isNotEmpty(id)) {\r\n      for (let i in teachers) {\r\n        if (teachers[i].id === id) focusedTeacher = teachers[i];\r\n      }\r\n      this.spreadOnForm(focusedTeacher);\r\n    } else this.resetFormHandler();\r\n    \r\n    this.setState({isAssigningTeacher: true});\r\n    this.fetchAvailableClasses();\r\n  };\r\n  \r\n  fetchAvailableClasses = () => {\r\n    axios.get(\"/classes.json\")\r\n      .then(res => {\r\n        const fetchedClasses = [];\r\n        for (let key in res.data) {\r\n          fetchedClasses.push({\r\n            ...res.data[key],\r\n            id: key,\r\n          });\r\n        }\r\n        this.setState({\r\n          availableClasses: fetchedClasses,\r\n          selectedClassId : fetchedClasses[0].id,\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n  \r\n  handleSubmitAssignment = e => {\r\n    e.preventDefault();\r\n    const classId   = this.state.selectedClassId;\r\n    const teacherId = this.state.formControls.id.value;\r\n    console.log(teacherId, classId);\r\n    \r\n    this.clearModalHandler();\r\n    this.resetFormHandler();\r\n    \r\n    axios.put(\"/classAssignments/\" + classId + \"/\" + teacherId + \".json\",\r\n      {isAssigned: true, hasPaid: false})\r\n      .then(res => {\r\n        console.log(res);\r\n        alert(\"Assignment info submitted\");\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        alert(err);\r\n      });\r\n  };\r\n  \r\n  render() {\r\n    const memberRows = Object.keys(this.props.members).map(mKey => {\r\n      return (\r\n        [...Array(this.props.members[mKey]).map(member => {\r\n          const socialMedia    = [\"facebook\", \"twitter\", \"instagram\"];\r\n          const socialProfiles = socialMedia.map(medium => {\r\n            if (isNotEmpty(member[medium])) {\r\n              return <Button\r\n                key={medium + mKey}\r\n                className={\"btn-brand mr-1 mb-1 btn-sm btn-\" + medium}\r\n                onClick={() =>\r\n                  this.socialClickedHandler(medium, member[medium])}>\r\n                <i className={\"fa fa-\" + medium}/>\r\n              </Button>;\r\n            }\r\n            return null;\r\n          });\r\n          return (\r\n            <tr key={member.id}>\r\n              <td>{member.socialName}</td>\r\n              <td>{member.fullName}</td>\r\n              <td>{member.dateRegistered}</td>\r\n              <td>{member.email}</td>\r\n              <td>{member.phone}</td>\r\n              <td>{socialProfiles}</td>\r\n              <td><Button\r\n                color=\"info\" className=\"btn-pill\" size=\"sm\" block>\r\n                Info </Button></td>\r\n              {this.props.isAdmin && <td><Button\r\n                color=\"success\" className=\"btn-pill\" size=\"sm\"\r\n                onClick={() => this.handleStartAssign(member.id)}>\r\n                <i className=\"fa fa-plus\"/> </Button></td>}\r\n              {this.props.isAdmin && <td><Button\r\n                color=\"info\" className=\"btn-pill\" size=\"sm\"\r\n                onClick={() => this.formToggleHandler(member.id)}>\r\n                Edit</Button></td>}\r\n            </tr>\r\n          );\r\n        })]);\r\n    });\r\n    \r\n    const tb_teachers = <Row>\r\n      <Col className=\"table-responsive-sm\">\r\n        <Card>\r\n          <CardHeader>\r\n            List of Teachers\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Table responsive striped>\r\n              <thead>\r\n              <tr>\r\n                <th>Social Name</th>\r\n                <th>Full Name</th>\r\n                <th>Date Registered</th>\r\n                <th>Email</th>\r\n                <th>Phone No.</th>\r\n                <th>Social Media</th>\r\n                <th>Payment History</th>\r\n                {this.props.isAdmin && <th>Assign to class</th>}\r\n                {this.props.isAdmin && <th>Edit</th>}\r\n              </tr>\r\n              </thead>\r\n              <tbody>\r\n              {memberRows}\r\n              </tbody>\r\n            </Table>\r\n            <Pagination>\r\n              <PaginationItem>\r\n                <PaginationLink tag=\"button\" previous/>\r\n              </PaginationItem>\r\n              <PaginationItem active>\r\n                <PaginationLink tag=\"button\">1</PaginationLink>\r\n              </PaginationItem>\r\n              <PaginationItem>\r\n                <PaginationLink tag=\"button\">2</PaginationLink>\r\n              </PaginationItem>\r\n              <PaginationItem>\r\n                <PaginationLink tag=\"button\">3</PaginationLink>\r\n              </PaginationItem>\r\n              <PaginationItem>\r\n                <PaginationLink tag=\"button\">4</PaginationLink>\r\n              </PaginationItem>\r\n              <PaginationItem>\r\n                <PaginationLink tag=\"button\" next/>\r\n              </PaginationItem>\r\n            </Pagination>\r\n          </CardBody>\r\n        </Card>\r\n      </Col>\r\n    </Row>;\r\n    \r\n    const options_classes = Object.keys(this.state.availableClasses).map(cKey => {\r\n      return (\r\n        [...Array(this.state.availableClasses[cKey]).map(c => {\r\n          return (<option\r\n            key={c.id}\r\n            value={c.id}>\r\n            {c.className}: {c.dateFrom} to {c.dateTo}\r\n          </option>);\r\n        })]\r\n      );\r\n    });\r\n    \r\n    const form_assignTeacher = (\r\n      <Modal\r\n        show={this.state.isAssigningTeacher}\r\n        modalClosed={this.clearModalHandler}>\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                <strong>Teacher Info</strong>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Form action=\"\" method=\"post\" encType=\"multipart/form-data\"\r\n                      className=\"form-horizontal\"\r\n                      onSubmit={this.handleSubmitAssignment}\r\n                      onReset={this.resetFormHandler}>\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label>Member ID</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <p className=\"form-control-static\">\r\n                        {isNotEmpty(this.state.formControls.id.value)\r\n                          ? this.state.formControls.id.value\r\n                          : \"ID UNAVAILABLE. NEW MEMBER.\"}</p>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"fullName-input\">Full name</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"text\" id=\"fullName-input\" name=\"fullName\"\r\n                             required readOnly\r\n                             value={this.state.formControls.fullName.value}\r\n                             placeholder=\"Enter full name\"/>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"socialName-input\">Social name</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"text\" id=\"socialName-input\"\r\n                             name=\"socialName\"\r\n                             required readOnly\r\n                             value={this.state.formControls.socialName.value}\r\n                             placeholder=\"Other members will call you\r\n                        by this Social Name\"/>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"class-select\">Select a class</Label>\r\n                    </Col>\r\n                    <Col md=\"9\">\r\n                      <Input type=\"select\"\r\n                             name=\"class-select\" id=\"class-select\"\r\n                             value={this.state.selectedClassId}\r\n                             onChange={this.handleSelectedClassChange}>\r\n                        {options_classes}\r\n                      </Input>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <Button size=\"sm\" color=\"danger\"\r\n                          onClick={this.clearModalHandler}>\r\n                    <i className=\"fa fa-ban\"/> Cancel</Button>\r\n                  <Button type=\"submit\" size=\"sm\" color=\"primary\">\r\n                    <i className=\"fa fa-dot-circle-o\"/> Submit</Button>\r\n                </Form>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Modal>);\r\n    \r\n    return (\r\n      <div>\r\n        {tb_teachers}\r\n        {form_assignTeacher}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    members: state.member.members,\r\n    isAdmin: state.auth.user.displayName === \"admin\",\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onFetchTeachers: (token, userId, role) => dispatch(\r\n      actions.fetchMembers(token, userId, role)),\r\n    onEditMember   : (token, memberInfo) => dispatch(\r\n      actions.updateMember(token, memberInfo),\r\n    ),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Teachers);\r\n"]},"metadata":{},"sourceType":"module"}