(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[43],{1199:function(e,a,t){"use strict";t.r(a);var l=t(959),n=t(147),r=t(237),o=t(238),m=t(240),s=t(239),c=t(241),i=t(2),u=t.n(i),d=t(244),E=t(907),p=t(908),h=t(910),f=t(912),b=t(911),v=t(952),g=t(1001),C=t(1002),y=t(932),N=t(913),O=t(938),w=t(964),j=t(965),k=t(966),H=t(1157),M=t(928),S=t(31),F=t(940),x=t(949);function A(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,l)}return t}function I(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?A(t,!0).forEach((function(a){Object(n.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var D={id:{value:""},socialName:{value:""},fullName:{value:""},dateRegistered:{value:S.a},email:{value:""},phone:{value:""},facebook:{value:""},instagram:{value:""},twitter:{value:""}},P=function(e){function a(){var e,t;Object(r.a)(this,a);for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(o)))).state={editing:!1,isEnrollingStudent:!1,formControls:D,availableClasses:[],selectedClassId:void 0},t.spreadOnForm=function(e){var a=D;Object.keys(e).forEach((function(t){a=I({},a,Object(n.a)({},t,I({},a[t],{value:e[t]})))})),t.setState({formControls:a})},t.editingStartHandler=function(e){var a=t.props.members,l=D;if(e&&!Object(S.c)(e)){for(var n in a)a[n].id===e&&(l=a[n]);t.spreadOnForm(l)}else t.resetFormHandler();t.setState({isEditing:!0})},t.clearModalHandler=function(){return t.setState({isEditing:!1,isEnrollingStudent:!1,formControls:D})},t.resetFormHandler=function(){return t.setState({formControls:D})},t.formElementChangeHandler=function(e){var a=e.target.name,l=e.target.value;t.setState({formControls:I({},t.state.formControls,Object(n.a)({},a,I({},t.state.formControls[a],{value:l})))})},t.handleSelectedClassChange=function(e){t.setState({selectedClassId:e.target.value})},t.submitMemberHandler=function(e){e.preventDefault();var a={};for(var l in t.state.formControls)a[l]=t.state.formControls[l].value;Object(S.c)(a.id)?(delete a.id,t.props.onAddMember("",a)):t.props.onEditMember("",a),t.clearModalHandler(),t.resetFormHandler(),alert("Member info submitted")},t.startEnrollHandler=function(e){var a=t.props.members,l=D;if(e&&!Object(S.c)(e)){for(var n in a)a[n].id===e&&(l=a[n]);t.spreadOnForm(l)}else t.resetFormHandler();t.setState({isEnrollingStudent:!0}),t.fetchAvailableClasses()},t.fetchAvailableClasses=function(){M.a.get("/classes.json").then((function(e){var a=[];for(var l in e.data)a.push(I({},e.data[l],{id:l}));t.setState({availableClasses:a,selectedClassId:a[0].id})})).catch((function(e){return console.log(e)}))},t.submitEnrollHandler=function(e){e.preventDefault();var a=t.state.selectedClassId,l=t.state.formControls.id.value;console.log(l,a),t.clearModalHandler(),t.resetFormHandler(),M.a.put("/classEnrollments/"+a+"/"+l+".json",{isEnrolled:!0,hasPaid:!1}).then((function(e){console.log(e),alert("Enrollment info submitted")})).catch((function(e){console.log(e),alert(e)}))},t}return Object(c.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.onFetchMembers("","")}},{key:"render",value:function(){var e=this,a=u.a.createElement(x.a,{show:this.state.editing,modalClosed:this.clearModalHandler},u.a.createElement(E.a,null,u.a.createElement(p.a,null,u.a.createElement(h.a,null,u.a.createElement(f.a,null,u.a.createElement("strong",null,"Member Info")),u.a.createElement(b.a,null,u.a.createElement(v.a,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",onSubmit:this.submitMemberHandler,onReset:this.resetFormHandler},u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,null,"Member ID")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement("p",{className:"form-control-static"},Object(S.c)(this.state.formControls.id.value)?"ID UNAVAILABLE. NEW MEMBER.":this.state.formControls.id.value))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"fullName-input"},"Full name")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"text",id:"fullName-input",name:"fullName",required:!0,value:this.state.formControls.fullName.value,onChange:this.formElementChangeHandler,placeholder:"Enter full name"}))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"socialName-input"},"Social name")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"text",id:"socialName-input",name:"socialName",required:!0,value:this.state.formControls.socialName.value,onChange:this.formElementChangeHandler,placeholder:"Other members will call you\r by this Social Name"}))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"date-input"},"Date Registered")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"date",id:"date-input",name:"dateRegistered",value:this.state.formControls.dateRegistered.value,onChange:this.formElementChangeHandler}))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"email-input"},"Email")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"email",id:"email-input",name:"email",required:!0,value:this.state.formControls.email.value,onChange:this.formElementChangeHandler,placeholder:"Enter email",autoComplete:"email"}))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"phone-input"},"Phone number")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"text",id:"phone-input",name:"phone",required:!0,value:this.state.formControls.phone.value,onChange:this.formElementChangeHandler,placeholder:"Enter phone number"}))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"facebook-input"},"Facebook")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"text",id:"facebook-input",name:"facebook",value:this.state.formControls.facebook.value,onChange:this.formElementChangeHandler,placeholder:"Enter Facebook username"}))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"instagram-input"},"Instagram")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"text",id:"instagram-input",name:"instagram",value:this.state.formControls.instagram.value,onChange:this.formElementChangeHandler,placeholder:"Enter Instagram username"}))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"twitter-input"},"Twitter")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"text",id:"twitter-input",name:"twitter",value:this.state.formControls.twitter.value,onChange:this.formElementChangeHandler,placeholder:"Enter Twitter username"}))),u.a.createElement(N.a,{size:"sm",color:"danger",onClick:this.clearModalHandler},u.a.createElement("i",{className:"fa fa-ban"})," Cancel"),u.a.createElement(N.a,{type:"reset",size:"sm",color:"warning"},u.a.createElement("i",{className:"fa fa-ban"})," Reset"),u.a.createElement(N.a,{type:"submit",size:"sm",color:"primary"},u.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit"))))))),t=u.a.createElement(E.a,null,u.a.createElement(p.a,{col:"8",sm:"6",md:"4",xl:!0,className:"mb-3 mb-xl-0"},u.a.createElement(N.a,{color:"info",className:"btn-square",onClick:function(){return e.editingStartHandler("")}},u.a.createElement("i",{className:"fa fa-plus"})," Add a new member"))),n=Object.keys(this.props.members).map((function(a){return Object(l.a)(Array(e.props.members[a]).map((function(t){var l=["facebook","twitter","instagram"].map((function(e){return Object(S.c)(t[e])?null:u.a.createElement(N.a,{key:e+a,className:"btn-brand mr-1 mb-1 btn-sm btn-"+e,onClick:function(){return Object(S.d)(e,t[e])}},u.a.createElement("i",{className:"fa fa-"+e}))}));return u.a.createElement("tr",{key:t.id},u.a.createElement("td",null,t.socialName),u.a.createElement("td",null,t.fullName),u.a.createElement("td",null,t.dateRegistered),u.a.createElement("td",null,t.email),u.a.createElement("td",null,t.phone),u.a.createElement("td",null,l),u.a.createElement("td",null,u.a.createElement(N.a,{color:"info",className:"btn-pill",size:"sm",block:!0},"Info")),e.props.isAdmin&&u.a.createElement("td",null,u.a.createElement(N.a,{color:"success",className:"btn-pill",size:"sm",onClick:function(){return e.startEnrollHandler(t.id)}},u.a.createElement("i",{className:"fa fa-plus"}))),e.props.isAdmin&&u.a.createElement("td",null,u.a.createElement(N.a,{color:"info",className:"btn-pill",size:"sm",onClick:function(){return e.editingStartHandler(t.id)}},"Edit")))})))})),r=Object.keys(this.state.availableClasses).map((function(a){return Object(l.a)(Array(e.state.availableClasses[a]).map((function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.className,": ",e.dateFrom," to ",e.dateTo)})))})),o=this.props.isLoading?u.a.createElement(H.a,null):u.a.createElement(E.a,null,u.a.createElement(p.a,{className:"table-responsive-sm"},u.a.createElement(h.a,null,u.a.createElement(f.a,null,"List of Members"),u.a.createElement(b.a,null,u.a.createElement(O.a,{responsive:!0,striped:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Social Name"),u.a.createElement("th",null,"Full Name"),u.a.createElement("th",null,"Date Registered"),u.a.createElement("th",null,"Email"),u.a.createElement("th",null,"Phone No."),u.a.createElement("th",null,"Social Media"),u.a.createElement("th",null,"Payment History"),this.props.isAdmin&&u.a.createElement("th",null,"Enroll"),this.props.isAdmin&&u.a.createElement("th",null,"Edit"))),u.a.createElement("tbody",null,n)),u.a.createElement(w.a,null,u.a.createElement(j.a,null,u.a.createElement(k.a,{tag:"button",previous:!0})),u.a.createElement(j.a,{active:!0},u.a.createElement(k.a,{tag:"button"},"1")),u.a.createElement(j.a,null,u.a.createElement(k.a,{tag:"button"},"2")),u.a.createElement(j.a,null,u.a.createElement(k.a,{tag:"button"},"3")),u.a.createElement(j.a,null,u.a.createElement(k.a,{tag:"button"},"4")),u.a.createElement(j.a,null,u.a.createElement(k.a,{tag:"button",next:!0}))))))),m=u.a.createElement(x.a,{show:this.state.isEnrollingStudent,modalClosed:this.clearModalHandler},u.a.createElement(E.a,null,u.a.createElement(p.a,null,u.a.createElement(h.a,null,u.a.createElement(f.a,null,u.a.createElement("strong",null,"Member Info")),u.a.createElement(b.a,null,u.a.createElement(v.a,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",onSubmit:this.submitEnrollHandler,onReset:this.resetFormHandler},u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,null,"Member ID")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement("p",{className:"form-control-static"},Object(S.c)(this.state.formControls.id.value)?"ID UNAVAILABLE. NEW MEMBER.":this.state.formControls.id.value))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"fullName-input"},"Full name")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"text",id:"fullName-input",name:"fullName",required:!0,readOnly:!0,value:this.state.formControls.fullName.value,placeholder:"Enter full name"}))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"socialName-input"},"Social name")),u.a.createElement(p.a,{xs:"12",md:"9"},u.a.createElement(y.a,{type:"text",id:"socialName-input",name:"socialName",required:!0,readOnly:!0,value:this.state.formControls.socialName.value,placeholder:"Other members will call you\r by this Social Name"}))),u.a.createElement(g.a,{row:!0},u.a.createElement(p.a,{md:"3"},u.a.createElement(C.a,{htmlFor:"class-select"},"Select a class")),u.a.createElement(p.a,{md:"9"},u.a.createElement(y.a,{type:"select",name:"class-select",id:"class-select",value:this.state.selectedClassId,onChange:this.handleSelectedClassChange},r))),u.a.createElement(N.a,{size:"sm",color:"danger",onClick:this.clearModalHandler},u.a.createElement("i",{className:"fa fa-ban"})," Cancel"),u.a.createElement(N.a,{type:"submit",size:"sm",color:"primary"},u.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit")))))));return u.a.createElement("div",null,a,this.props.isAdmin&&t,o,m)}}]),a}(i.Component);a.default=Object(d.b)((function(e){return{isLoading:e.member.isLoading,members:e.member.members,isAdmin:"admin"===e.auth.user.displayName}}),(function(e){return{onFetchMembers:function(a,t){return e(F.d(a,t))},onAddMember:function(a,t){return e(F.b(a,t))},onEditMember:function(a,t){return e(F.h(a,t))}}}))(P)},946:function(e,a,t){e.exports={Backdrop:"Backdrop_Backdrop__3yh_S"}},947:function(e,a,t){e.exports={Modal:"Modal_Modal__P0xtN"}},949:function(e,a,t){"use strict";var l=t(237),n=t(238),r=t(240),o=t(239),m=t(241),s=t(2),c=t.n(s),i=function(e){return e.children},u=t(946),d=t.n(u),E=function(e){return e.show?c.a.createElement("div",{className:d.a.Backdrop,onClick:e.clicked}):null},p=t(947),h=t.n(p),f=function(e){function a(){return Object(l.a)(this,a),Object(r.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(n.a)(a,[{key:"shouldComponentUpdate",value:function(e,a){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return c.a.createElement(i,null,c.a.createElement(E,{show:this.props.show,clicked:this.props.modalClosed}),c.a.createElement("div",{className:h.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-700vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),a}(s.Component);a.a=f}}]);
//# sourceMappingURL=43.0f859b67.chunk.js.map