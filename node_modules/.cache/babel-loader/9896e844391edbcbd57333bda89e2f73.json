{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Projects\\\\hlh-cms\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Projects\\\\hlh-cms\\\\src\\\\views\\\\HLH\\\\Classes.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Badge, Button, Card, CardBody, CardHeader, Col, Form, FormGroup, Input, Label, Pagination, PaginationItem, PaginationLink, Row, Spinner, Table } from \"reactstrap\";\nimport axios from \"../../shared/axios-hlh.js\";\nimport { isNotEmpty, socialClickedHandler, TODAY } from \"../../shared/utility.js\";\nimport * as actions from \"../../store/actions\";\nimport Modal from \"../UI/Modal.js\";\nvar BASE_FORM_CONTROLS = {\n  id: {\n    value: \"\"\n  },\n  className: {\n    value: \"\"\n  },\n  dateFrom: {\n    value: TODAY\n  },\n  dateTo: {\n    value: TODAY\n  },\n  time: {\n    value: \"\"\n  },\n  description: {\n    value: \"\"\n  },\n  facebook: {\n    value: \"\"\n  },\n  teachers: {\n    value: []\n  },\n  students: {\n    value: []\n  }\n};\n\nvar Classes =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Classes, _Component);\n\n  function Classes() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Classes);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Classes)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isEditing: false,\n      isAttendanceVisible: false,\n      formControls: BASE_FORM_CONTROLS,\n      classTeachers: [],\n      classStudents: []\n    };\n\n    _this.spreadOnForm = function (formData) {\n      var formControls = BASE_FORM_CONTROLS;\n      Object.keys(formData).forEach(function (field) {\n        formControls = _objectSpread({}, formControls, _defineProperty({}, field, _objectSpread({}, formControls[field], {\n          value: formData[field]\n        })));\n      });\n\n      _this.setState({\n        formControls: formControls\n      });\n    };\n\n    _this.formElementChangeHandler = function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState({\n        formControls: _objectSpread({}, _this.state.formControls, _defineProperty({}, name, _objectSpread({}, _this.state.formControls[name], {\n          value: value\n        })))\n      });\n    };\n\n    _this.clearModalHandler = function () {\n      return _this.setState({\n        isEditing: false,\n        isAttendanceVisible: false\n      });\n    };\n\n    _this.resetFormHandler = function () {\n      return _this.setState({\n        formControls: BASE_FORM_CONTROLS\n      });\n    };\n\n    _this.formToggleHandler = function (id) {\n      var classes = _this.props.classes;\n      var focusedClass = BASE_FORM_CONTROLS;\n\n      if (id && isNotEmpty(id)) {\n        for (var i in classes) {\n          if (classes[i].id === id) focusedClass = classes[i];\n        }\n\n        _this.spreadOnForm(focusedClass);\n      } else _this.resetFormHandler();\n\n      _this.setState({\n        isEditing: !_this.state.isEditing\n      });\n    };\n\n    _this.submitClassHandler = function (e) {\n      e.preventDefault();\n      var classInfo = {};\n\n      for (var field in _this.state.formControls) {\n        classInfo[field] = _this.state.formControls[field].value;\n      } // Decision: Create New or Edit Existing member\n\n\n      if (isNotEmpty(classInfo.id)) _this.props.onEditClass(\"\", classInfo);else _this.props.onAddClass(\"\", classInfo);\n\n      _this.clearModalHandler();\n\n      _this.resetFormHandler();\n\n      alert(\"Class info submitted\");\n    };\n\n    _this.viewClassAttendance = function (classId) {\n      _this.fetchClassStudents(classId);\n\n      _this.fetchClassTeachers(classId);\n    };\n\n    _this.fetchClassStudents = function (classId) {\n      axios.get(\"/classEnrollments/\" + classId + \".json\").then(function (res) {\n        var fetchedStudents = [];\n\n        for (var key in res.data) {\n          if (res.data[key].isEnrolled) {\n            (function () {\n              var student = _objectSpread({\n                id: key\n              }, res.data[key]);\n\n              axios.get(\"/members/\" + key + \".json\").then(function (res) {\n                student = _objectSpread({}, student, {}, res.data);\n                fetchedStudents.push(student);\n\n                _this.setState({\n                  classStudents: fetchedStudents,\n                  isAttendanceVisible: true\n                });\n              }).catch(function (e) {\n                return console.log(e);\n              });\n            })();\n          }\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.fetchClassTeachers = function (classId) {\n      axios.get(\"/classAssignments/\" + classId + \".json\").then(function (res) {\n        var fetchedTeachers = [];\n\n        for (var key in res.data) {\n          if (res.data[key].isAssigned) {\n            (function () {\n              var teacher = _objectSpread({\n                id: key\n              }, res.data[key]);\n\n              axios.get(\"/members/\" + key + \".json\").then(function (res) {\n                teacher = _objectSpread({}, teacher, {}, res.data);\n                fetchedTeachers.push(teacher);\n\n                _this.setState({\n                  classTeachers: fetchedTeachers,\n                  isAttendanceVisible: true\n                });\n              }).catch(function (err) {\n                return console.log(err);\n              });\n            })();\n          }\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Classes, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onFetchClasses(\"\", \"\"); // console.log(\"Classes state\", this.props.classes);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {// if (!this.props.isLoading && prevProps.isLoading) {\n      //   this.props.onFetchClasses(\"\", \"\");\n      // }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var form_class = React.createElement(Modal, {\n        show: this.state.isEditing,\n        modalClosed: this.clearModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Class Info\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(Form, {\n        action: \"\",\n        method: \"post\",\n        encType: \"multipart/form-data\",\n        className: \"form-horizontal\",\n        onSubmit: this.submitClassHandler,\n        onReset: this.resetFormHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"Class ID\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"form-control-static\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, isNotEmpty(this.state.formControls.id.value) ? this.state.formControls.id.value : \"ID UNAVAILABLE. NEW CLASS.\"))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"className-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Class Name\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"className-input\",\n        name: \"className\",\n        required: true,\n        value: this.state.formControls.className.value,\n        onChange: this.formElementChangeHandler,\n        placeholder: \"Enter full name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"dateFrom-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"From\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"date\",\n        id: \"dateFrom-input\",\n        name: \"dateFrom\",\n        required: true,\n        value: this.state.formControls.dateFrom.value,\n        onChange: this.formElementChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"dateTo-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \"To\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"date\",\n        id: \"dateTo-input\",\n        name: \"dateTo\",\n        value: this.state.formControls.dateTo.value,\n        onChange: this.formElementChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"time-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, \"Weekly schedule\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"time-input\",\n        name: \"time\",\n        required: true,\n        value: this.state.formControls.time.value,\n        onChange: this.formElementChangeHandler,\n        placeholder: \"Enter the weekly\\r time slot for this class\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"description-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"Textarea\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"textarea\",\n        name: \"description\",\n        id: \"description-input\",\n        rows: \"9\",\n        value: this.state.formControls.description.value,\n        onChange: this.formElementChangeHandler,\n        placeholder: \"Description about the class...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"facebook-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"Facebook\")), React.createElement(Col, {\n        xs: \"12\",\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        id: \"facebook-input\",\n        name: \"facebook\",\n        value: this.state.formControls.facebook.value,\n        onChange: this.formElementChangeHandler,\n        placeholder: \"Enter Facebook event link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        color: \"danger\",\n        onClick: this.clearModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-ban\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }), \" Cancel\"), React.createElement(Button, {\n        type: \"reset\",\n        size: \"sm\",\n        color: \"warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-ban\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }), \" Reset\"), React.createElement(Button, {\n        type: \"submit\",\n        size: \"sm\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-dot-circle-o\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }), \" Submit\"))))))));\n      var btn_addClass = React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(Col, {\n        col: \"8\",\n        sm: \"6\",\n        md: \"4\",\n        xl: true,\n        className: \"mb-3 mb-xl-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"info\",\n        className: \"btn-square\",\n        onClick: function onClick() {\n          return _this2.formToggleHandler(\"\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }), \" Add a new class\")));\n      var rows_classes = Object.keys(this.props.classes).map(function (cKey) {\n        return _toConsumableArray(Array(_this2.props.classes[cKey]).map(function (c) {\n          return React.createElement(\"tr\", {\n            key: c.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 314\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 315\n            },\n            __self: this\n          }, c.className), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 316\n            },\n            __self: this\n          }, c.time), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 317\n            },\n            __self: this\n          }, c.dateFrom), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 318\n            },\n            __self: this\n          }, c.dateTo), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 319\n            },\n            __self: this\n          }, c.description), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 320\n            },\n            __self: this\n          }, React.createElement(Button, {\n            className: \"btn-brand mr-1 mb-1 btn-sm btn-facebook\",\n            onClick: function onClick() {\n              return socialClickedHandler(\"facebook\", c.facebook);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 320\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            className: \"fa fa-facebook\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 324\n            },\n            __self: this\n          }))), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 326\n            },\n            __self: this\n          }, React.createElement(Button, {\n            color: \"info\",\n            className: \"btn-pill\",\n            size: \"sm\",\n            block: true,\n            onClick: function onClick() {\n              return _this2.viewClassAttendance(c.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 326\n            },\n            __self: this\n          }, \"View\")), _this2.props.isAdmin && React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329\n            },\n            __self: this\n          }, React.createElement(Button, {\n            color: \"info\",\n            className: \"btn-pill\",\n            size: \"sm\",\n            onClick: function onClick() {\n              return _this2.formToggleHandler(c.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329\n            },\n            __self: this\n          }, \"Edit\")));\n        }));\n      });\n      var rows_students = Object.keys(this.state.classStudents).map(function (sKey) {\n        return _toConsumableArray(Array(_this2.state.classStudents[sKey]).map(function (s) {\n          return React.createElement(\"tr\", {\n            key: s.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 338\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 339\n            },\n            __self: this\n          }, parseInt(sKey) + 1), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 340\n            },\n            __self: this\n          }, s.socialName), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 341\n            },\n            __self: this\n          }, s.fullName), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 342\n            },\n            __self: this\n          }, s.phone), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 343\n            },\n            __self: this\n          }, s.email), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 344\n            },\n            __self: this\n          }, s.hasPaid ? React.createElement(Badge, {\n            className: \"mr-1\",\n            color: \"success\",\n            pill: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 345\n            },\n            __self: this\n          }, \"Paid\") : React.createElement(Badge, {\n            className: \"mr-1\",\n            color: \"warning\",\n            pill: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 346\n            },\n            __self: this\n          }, \"Pending\")));\n        }));\n      });\n      var rows_teachers = Object.keys(this.state.classTeachers).map(function (tKey) {\n        return _toConsumableArray(Array(_this2.state.classTeachers[tKey]).map(function (t) {\n          return React.createElement(\"tr\", {\n            key: t.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 355\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 356\n            },\n            __self: this\n          }, parseInt(tKey) + 1), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 357\n            },\n            __self: this\n          }, t.socialName), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 358\n            },\n            __self: this\n          }, t.fullName), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 359\n            },\n            __self: this\n          }, t.phone), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 360\n            },\n            __self: this\n          }, t.email), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 361\n            },\n            __self: this\n          }, t.hasPaid ? React.createElement(Badge, {\n            className: \"mr-1\",\n            color: \"success\",\n            pill: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 362\n            },\n            __self: this\n          }, \"Paid\") : React.createElement(Badge, {\n            className: \"mr-1\",\n            color: \"warning\",\n            pill: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 363\n            },\n            __self: this\n          }, \"Pending\")));\n        }));\n      });\n      var tbl_classes = this.props.isLoading ? React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371\n        },\n        __self: this\n      }) : React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"table-responsive-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, \"List of Classes\"), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, React.createElement(Table, {\n        responsive: true,\n        striped: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382\n        },\n        __self: this\n      }, \"Class name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }, \"Time\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }, \"From\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }, \"To\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, \"Facebook\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, \"Attendance\"), this.props.isAdmin && React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"Edit\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, rows_classes)), React.createElement(Pagination, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        previous: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398\n        },\n        __self: this\n      })), React.createElement(PaginationItem, {\n        active: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }, \"1\")), React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, \"2\")), React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, \"3\")), React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }, \"4\")), React.createElement(PaginationItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, React.createElement(PaginationLink, {\n        tag: \"button\",\n        next: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      })))))));\n      var tbl_classAttendance = React.createElement(Modal, {\n        show: this.state.isAttendanceVisible,\n        modalClosed: this.clearModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"table-responsive-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, \"Teachers\"), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, React.createElement(Table, {\n        responsive: true,\n        striped: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, \"Index\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, \"Social name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, \"Full name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, \"Payment status\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, rows_teachers)))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"table-responsive-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, \"Students\"), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }, React.createElement(Table, {\n        responsive: true,\n        striped: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460\n        },\n        __self: this\n      }, \"Index\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, \"Social name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, \"Full name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }, \"Payment status\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, rows_students)))))));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, form_class, this.props.isAdmin && btn_addClass, tbl_classes, tbl_classAttendance);\n    }\n  }]);\n\n  return Classes;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoading: state.class.isLoading,\n    classes: state.class.classes,\n    isAdmin: state.auth.user.displayName === 'admin'\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onFetchClasses: function onFetchClasses(token, userId) {\n      return dispatch(actions.fetchClasses(token, userId));\n    },\n    onAddClass: function onAddClass(token, classInfo) {\n      return dispatch(actions.createClass(token, classInfo));\n    },\n    onEditClass: function onEditClass(token, classInfo) {\n      return dispatch(actions.updateClass(token, classInfo));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Classes);","map":{"version":3,"sources":["C:/Projects/hlh-cms/src/views/HLH/Classes.js"],"names":["React","Component","connect","Badge","Button","Card","CardBody","CardHeader","Col","Form","FormGroup","Input","Label","Pagination","PaginationItem","PaginationLink","Row","Spinner","Table","axios","isNotEmpty","socialClickedHandler","TODAY","actions","Modal","BASE_FORM_CONTROLS","id","value","className","dateFrom","dateTo","time","description","facebook","teachers","students","Classes","state","isEditing","isAttendanceVisible","formControls","classTeachers","classStudents","spreadOnForm","formData","Object","keys","forEach","field","setState","formElementChangeHandler","e","name","target","clearModalHandler","resetFormHandler","formToggleHandler","classes","props","focusedClass","i","submitClassHandler","preventDefault","classInfo","onEditClass","onAddClass","alert","viewClassAttendance","classId","fetchClassStudents","fetchClassTeachers","get","then","res","fetchedStudents","key","data","isEnrolled","student","push","catch","console","log","err","fetchedTeachers","isAssigned","teacher","onFetchClasses","prevProps","prevState","snapshot","form_class","btn_addClass","rows_classes","map","cKey","Array","c","isAdmin","rows_students","sKey","s","parseInt","socialName","fullName","phone","email","hasPaid","rows_teachers","tKey","t","tbl_classes","isLoading","tbl_classAttendance","mapStateToProps","class","auth","user","displayName","mapDispatchToProps","dispatch","token","userId","fetchClasses","createClass","updateClass"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  Col,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  Row,\r\n  Spinner,\r\n  Table,\r\n} from \"reactstrap\";\r\nimport axios from \"../../shared/axios-hlh.js\";\r\nimport {isNotEmpty, socialClickedHandler, TODAY} from \"../../shared/utility.js\";\r\nimport * as actions from \"../../store/actions\";\r\nimport Modal from \"../UI/Modal.js\";\r\n\r\nconst BASE_FORM_CONTROLS = {\r\n  id         : {\r\n    value: \"\",\r\n  },\r\n  className  : {\r\n    value: \"\",\r\n  },\r\n  dateFrom   : {\r\n    value: TODAY,\r\n  },\r\n  dateTo     : {\r\n    value: TODAY,\r\n  },\r\n  time       : {\r\n    value: \"\",\r\n  },\r\n  description: {\r\n    value: \"\",\r\n  },\r\n  facebook   : {\r\n    value: \"\",\r\n  },\r\n  teachers   : {\r\n    value: [],\r\n  },\r\n  students   : {\r\n    value: [],\r\n  },\r\n};\r\n\r\nclass Classes extends Component {\r\n  state = {\r\n    isEditing          : false,\r\n    isAttendanceVisible: false,\r\n    formControls       : BASE_FORM_CONTROLS,\r\n    classTeachers      : [],\r\n    classStudents      : [],\r\n  };\r\n  \r\n  componentDidMount() {\r\n    this.props.onFetchClasses(\"\", \"\");\r\n    // console.log(\"Classes state\", this.props.classes);\r\n  }\r\n  \r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    // if (!this.props.isLoading && prevProps.isLoading) {\r\n    //   this.props.onFetchClasses(\"\", \"\");\r\n    // }\r\n  }\r\n  \r\n  spreadOnForm             = formData => {\r\n    let formControls = BASE_FORM_CONTROLS;\r\n    Object.keys(formData).forEach(field => {\r\n      formControls = {\r\n        ...formControls,\r\n        [field]: {\r\n          ...formControls[field],\r\n          value: formData[field],\r\n        },\r\n      };\r\n    });\r\n    this.setState({formControls});\r\n  };\r\n  formElementChangeHandler = e => {\r\n    const name  = e.target.name;\r\n    const value = e.target.value;\r\n    this.setState({\r\n      formControls: {\r\n        ...this.state.formControls,\r\n        [name]: {\r\n          ...this.state.formControls[name],\r\n          value,\r\n        },\r\n      },\r\n    });\r\n  };\r\n  \r\n  \r\n  clearModalHandler = () => this.setState({\r\n    isEditing          : false,\r\n    isAttendanceVisible: false,\r\n  });\r\n  resetFormHandler  = () => this.setState({\r\n    formControls: BASE_FORM_CONTROLS,\r\n  });\r\n  formToggleHandler = (id) => {\r\n    const classes    = this.props.classes;\r\n    let focusedClass = BASE_FORM_CONTROLS;\r\n    if (id && isNotEmpty(id)) {\r\n      for (let i in classes) {\r\n        if (classes[i].id === id) focusedClass = classes[i];\r\n      }\r\n      this.spreadOnForm(focusedClass);\r\n    } else this.resetFormHandler();\r\n  \r\n    this.setState({isEditing: !this.state.isEditing});\r\n  };\r\n  \r\n  submitClassHandler = e => {\r\n    e.preventDefault();\r\n    const classInfo = {};\r\n    for (let field in this.state.formControls) {\r\n      classInfo[field] = this.state.formControls[field].value;\r\n    }\r\n    \r\n    // Decision: Create New or Edit Existing member\r\n    if (isNotEmpty(classInfo.id)) this.props.onEditClass(\"\", classInfo);\r\n    else this.props.onAddClass(\"\", classInfo);\r\n  \r\n    this.clearModalHandler();\r\n    this.resetFormHandler();\r\n    alert(\"Class info submitted\");\r\n  };\r\n  \r\n  viewClassAttendance = classId => {\r\n    this.fetchClassStudents(classId);\r\n    this.fetchClassTeachers(classId);\r\n  };\r\n  \r\n  fetchClassStudents = classId => {\r\n    axios.get(\"/classEnrollments/\" + classId + \".json\")\r\n      .then(res => {\r\n        const fetchedStudents = [];\r\n        for (let key in res.data) {\r\n          if (res.data[key].isEnrolled) {\r\n            let student = {id: key, ...res.data[key]};\r\n            axios.get(\"/members/\" + key + \".json\")\r\n              .then(res => {\r\n                student = {...student, ...res.data};\r\n                fetchedStudents.push(student);\r\n                this.setState({\r\n                  classStudents      : fetchedStudents,\r\n                  isAttendanceVisible: true,\r\n                });\r\n                \r\n              }).catch(e => console.log(e));\r\n          }\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n  fetchClassTeachers = classId => {\r\n    axios.get(\"/classAssignments/\" + classId + \".json\")\r\n      .then(res => {\r\n        const fetchedTeachers = [];\r\n        for (let key in res.data) {\r\n          if (res.data[key].isAssigned) {\r\n            let teacher = {id: key, ...res.data[key]};\r\n            axios.get(\"/members/\" + key + \".json\")\r\n              .then(res => {\r\n                teacher = {...teacher, ...res.data};\r\n                fetchedTeachers.push(teacher);\r\n                this.setState({\r\n                  classTeachers      : fetchedTeachers,\r\n                  isAttendanceVisible: true,\r\n                });\r\n              }).catch(err => console.log(err));\r\n          }\r\n        }\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n  \r\n  render() {\r\n    const form_class = (\r\n      <Modal show={this.state.isEditing} modalClosed={this.clearModalHandler}>\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <CardHeader>\r\n                <strong>Class Info</strong>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Form action=\"\" method=\"post\" encType=\"multipart/form-data\"\r\n                      className=\"form-horizontal\"\r\n                      onSubmit={this.submitClassHandler}\r\n                      onReset={this.resetFormHandler}>\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label>Class ID</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <p className=\"form-control-static\">\r\n                        {isNotEmpty(this.state.formControls.id.value)\r\n                          ? this.state.formControls.id.value\r\n                          : \"ID UNAVAILABLE. NEW CLASS.\"}</p>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"className-input\">Class Name</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"text\" id=\"className-input\" name=\"className\"\r\n                             required\r\n                             value={this.state.formControls.className.value}\r\n                             onChange={this.formElementChangeHandler}\r\n                             placeholder=\"Enter full name\"/>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"dateFrom-input\">From</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"date\" id=\"dateFrom-input\"\r\n                             name=\"dateFrom\"\r\n                             required\r\n                             value={this.state.formControls.dateFrom.value}\r\n                             onChange={this.formElementChangeHandler}/>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"dateTo-input\">To</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"date\" id=\"dateTo-input\" name=\"dateTo\"\r\n                             value={this.state.formControls.dateTo.value}\r\n                             onChange={this.formElementChangeHandler}/>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"time-input\">Weekly schedule</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"text\" id=\"time-input\" name=\"time\" required\r\n                             value={this.state.formControls.time.value}\r\n                             onChange={this.formElementChangeHandler}\r\n                             placeholder=\"Enter the weekly\r\n                             time slot for this class\"\r\n                      />\r\n                    </Col>\r\n                  </FormGroup>\r\n                  \r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"description-input\">Textarea</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"textarea\" name=\"description\"\r\n                             id=\"description-input\" rows=\"9\"\r\n                             value={this.state.formControls.description.value}\r\n                             onChange={this.formElementChangeHandler}\r\n                             placeholder=\"Description about the class...\"/>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  \r\n                  <FormGroup row>\r\n                    <Col md=\"3\">\r\n                      <Label htmlFor=\"facebook-input\">Facebook</Label>\r\n                    </Col>\r\n                    <Col xs=\"12\" md=\"9\">\r\n                      <Input type=\"text\" id=\"facebook-input\" name=\"facebook\"\r\n                             value={this.state.formControls.facebook.value}\r\n                             onChange={this.formElementChangeHandler}\r\n                             placeholder=\"Enter Facebook event link\"/>\r\n                    </Col>\r\n                  </FormGroup>\r\n                  <FormGroup row>\r\n                    <Button size=\"sm\" color=\"danger\"\r\n                            onClick={this.clearModalHandler}>\r\n                      <i className=\"fa fa-ban\"/> Cancel</Button>\r\n                    <Button type=\"reset\" size=\"sm\" color=\"warning\">\r\n                      <i className=\"fa fa-ban\"/> Reset</Button>\r\n                    <Button type=\"submit\" size=\"sm\" color=\"primary\">\r\n                      <i className=\"fa fa-dot-circle-o\"/> Submit</Button>\r\n                  </FormGroup>\r\n                </Form>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Modal>\r\n    );\r\n  \r\n    const btn_addClass = <Row>\r\n      <Col col=\"8\" sm=\"6\" md=\"4\" xl className=\"mb-3 mb-xl-0\">\r\n        <Button color=\"info\" className=\"btn-square\"\r\n                onClick={() => this.formToggleHandler(\"\")}>\r\n          <i className=\"fa fa-plus\"/> Add a new class\r\n        </Button>\r\n      </Col>\r\n    </Row>;\r\n    \r\n    const rows_classes = Object.keys(this.props.classes).map(cKey => {\r\n      return ([...Array(this.props.classes[cKey]).map(c => {\r\n        return (<tr key={c.id}>\r\n          <td>{c.className}</td>\r\n          <td>{c.time}</td>\r\n          <td>{c.dateFrom}</td>\r\n          <td>{c.dateTo}</td>\r\n          <td>{c.description}</td>\r\n          <td><Button\r\n            className={\"btn-brand mr-1 mb-1 btn-sm btn-facebook\"}\r\n            onClick={() =>\r\n              socialClickedHandler(\"facebook\", c.facebook)}>\r\n            <i className={\"fa fa-facebook\"}/>\r\n          </Button></td>\r\n          <td><Button color=\"info\" className=\"btn-pill\" size=\"sm\" block\r\n                      onClick={() => this.viewClassAttendance(c.id)}>\r\n            View</Button></td>\r\n          {this.props.isAdmin && <td><Button color=\"info\" className=\"btn-pill\" size=\"sm\"\r\n                      onClick={() => this.formToggleHandler(c.id)}>\r\n            Edit</Button></td>}\r\n        </tr>);\r\n      })]);\r\n    });\r\n  \r\n    const rows_students = Object.keys(this.state.classStudents).map(sKey => {\r\n      return ([...Array(this.state.classStudents[sKey]).map(s => {\r\n          return (<tr key={s.id}>\r\n            <td>{parseInt(sKey) + 1}</td>\r\n            <td>{s.socialName}</td>\r\n            <td>{s.fullName}</td>\r\n            <td>{s.phone}</td>\r\n            <td>{s.email}</td>\r\n            <td>{s.hasPaid\r\n              ? <Badge className=\"mr-1\" color=\"success\" pill>Paid</Badge>\r\n              : <Badge className=\"mr-1\" color=\"warning\" pill>Pending</Badge>}\r\n            </td>\r\n          </tr>);\r\n        })]\r\n      );\r\n    });\r\n  \r\n    const rows_teachers = Object.keys(this.state.classTeachers).map(tKey => {\r\n      return ([...Array(this.state.classTeachers[tKey]).map(t => {\r\n          return (<tr key={t.id}>\r\n            <td>{parseInt(tKey) + 1}</td>\r\n            <td>{t.socialName}</td>\r\n            <td>{t.fullName}</td>\r\n            <td>{t.phone}</td>\r\n            <td>{t.email}</td>\r\n            <td>{t.hasPaid\r\n              ? <Badge className=\"mr-1\" color=\"success\" pill>Paid</Badge>\r\n              : <Badge className=\"mr-1\" color=\"warning\" pill>Pending</Badge>}\r\n            </td>\r\n          </tr>);\r\n        })]\r\n      );\r\n    });\r\n  \r\n    const tbl_classes = this.props.isLoading\r\n      ? <Spinner/>\r\n      : <Row>\r\n        <Col className=\"table-responsive-sm\">\r\n          <Card>\r\n            <CardHeader>\r\n              List of Classes\r\n            </CardHeader>\r\n            <CardBody>\r\n              <Table responsive striped>\r\n                <thead>\r\n                <tr>\r\n                  <th>Class name</th>\r\n                  <th>Time</th>\r\n                  <th>From</th>\r\n                  <th>To</th>\r\n                  <th>Description</th>\r\n                  <th>Facebook</th>\r\n                  <th>Attendance</th>\r\n                  {this.props.isAdmin && <th>Edit</th>}\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {rows_classes}\r\n                </tbody>\r\n              </Table>\r\n              <Pagination>\r\n                <PaginationItem>\r\n                  <PaginationLink tag=\"button\" previous/>\r\n                </PaginationItem>\r\n                <PaginationItem active>\r\n                  <PaginationLink tag=\"button\">1</PaginationLink>\r\n                </PaginationItem>\r\n                <PaginationItem>\r\n                  <PaginationLink tag=\"button\">2</PaginationLink>\r\n                </PaginationItem>\r\n                <PaginationItem>\r\n                  <PaginationLink tag=\"button\">3</PaginationLink>\r\n                </PaginationItem>\r\n                <PaginationItem>\r\n                  <PaginationLink tag=\"button\">4</PaginationLink>\r\n                </PaginationItem>\r\n                <PaginationItem>\r\n                  <PaginationLink tag=\"button\" next/>\r\n                </PaginationItem>\r\n              </Pagination>\r\n            </CardBody>\r\n          </Card>\r\n        </Col>\r\n      </Row>;\r\n  \r\n    const tbl_classAttendance = (\r\n      <Modal show={this.state.isAttendanceVisible}\r\n             modalClosed={this.clearModalHandler}>\r\n        <Row>\r\n          <Col className=\"table-responsive-sm\">\r\n            <Card>\r\n              <CardHeader>\r\n                Teachers\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Table responsive striped>\r\n                  <thead>\r\n                  <tr>\r\n                    <th>Index</th>\r\n                    <th>Social name</th>\r\n                    <th>Full name</th>\r\n                    <th>Phone</th>\r\n                    <th>Email</th>\r\n                    <th>Payment status</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  {rows_teachers}\r\n                  </tbody>\r\n                </Table>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col className=\"table-responsive-sm\">\r\n            <Card>\r\n              <CardHeader>\r\n                Students\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Table responsive striped>\r\n                  <thead>\r\n                  <tr>\r\n                    <th>Index</th>\r\n                    <th>Social name</th>\r\n                    <th>Full name</th>\r\n                    <th>Phone</th>\r\n                    <th>Email</th>\r\n                    <th>Payment status</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  {rows_students}\r\n                  </tbody>\r\n                </Table>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Modal>);\r\n    \r\n    return (<div>\r\n      {form_class}\r\n      {this.props.isAdmin && btn_addClass}\r\n      {tbl_classes}\r\n      {tbl_classAttendance}\r\n    </div>);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isLoading: state.class.isLoading,\r\n    classes  : state.class.classes,\r\n    isAdmin: state.auth.user.displayName === 'admin'\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onFetchClasses: (token, userId) => dispatch(\r\n      actions.fetchClasses(token, userId)),\r\n    onAddClass    : (token, classInfo) => dispatch(\r\n      actions.createClass(token, classInfo)),\r\n    onEditClass   : (token, classInfo) => dispatch(\r\n      actions.updateClass(token, classInfo),\r\n    )\r\n  };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Classes);\r\n"]},"metadata":{},"sourceType":"module"}